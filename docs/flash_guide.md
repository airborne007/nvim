# Flash.nvim 使用指南 (Flash.nvim Usage Guide)

`flash.nvim` 是一款专为 Neovim 设计的现代化导航插件。它不仅能让你在屏幕上“指哪打哪”，还能让你在不移动光标的情况下对远程文本进行操作。

## 1. 核心快捷键一览 (Quick Reference)

| 快捷键 | 模式 | 功能描述 |
| :--- | :--- | :--- |
| `s` | Normal, Visual, Op | **基础跳转**：搜索字符并跳转到目标位置 |
| `S` | Normal, Visual, Op | **语法树跳转/选择**：按代码逻辑块（Treesitter 节点）选择 |
| `r` | Operator-pending | **远程操作**：在原地对远处目标执行删除、复制等操作 |
| `R` | Visual, Op | **语法树搜索**：通过搜索匹配特定的代码逻辑结构 |
| `<C-s>` | Command-line | **搜索联动**：在 `/` 搜索时开启 Flash 模式 |

---

## 2. 详细功能说明

### ⚡ 基础跳转 (`s`)
这是最常用的功能，用于替代原生的 `f`/`F`/`t`/`T` 或长距离的 `j`/`k` 移动。
*   **操作**：按下 `s` -> 输入目标位置的 1-2 个字符 -> 看到屏幕上出现的彩色标签 -> 按下对应标签。
*   **特点**：按键极少，单手即可完成长距离定位。

### 🌳 语法树跳转与选择 (`S`)
基于 Treesitter 语法树，它识别的是代码的“逻辑”而不是“字符”。
*   **操作**：按下 `S`。
*   **现象**：`flash` 会高亮当前屏幕所有的逻辑块（如：整个函数、一个 `if` 判断、一个参数列表）。
*   **结果**：选中标签后，它会**自动进入 Visual 模式**并选中该逻辑块。
*   **技巧**：如果你想快速复制一整个函数，只需按 `vS` + 标签 + `y`。

### 🎯 远程操作 (`r`) —— **进阶大杀器**
这是 `flash` 最具特色的功能：**光标不动，远程打击。**
*   **使用场景**：你发现远处有一行代码写错了需要删除，或者想把远处的某个词复制过来，但不想中断当前的编辑位置。
*   **示例操作 (复制远处单词)**：
    1.  按下 `yr` (`y` 是 yank，`r` 触发远程模式)。
    2.  输入目标单词的字符，按下标签。
    3.  **结果**：目标单词已进入寄存器，你的光标依然停留在原地。直接按 `p` 即可粘贴。
*   **同理**：`dr` (远程删除), `cr` (远程修改)。

### 🔍 结构化搜索 (`R`)
结合了“搜索”和“语法树”。
*   **操作**：按下 `dR` -> 输入关键字。
*   **功能**：它会搜索包含该关键字的**最小代码节点**并对其执行操作。

### ⌨️ 搜索联动 (`<C-s>`)
当你正在使用原生的 `/` 进行常规搜索时，如果觉得结果太多，想快速定位到其中一个。
*   **操作**：输入 `/` 和搜索词 -> 按下 `<C-s>` -> 所有匹配项都会出现 Flash 标签。

---

## 3. 练习建议

1.  **第一阶段**：强迫自己用 `s` 代替所有的长距离 `j`/`k` 移动。
2.  **第二阶段**：尝试用 `yr` 复制远处的变量，你会发现这比“跳过去再跳回来”爽得多。
3.  **第三阶段**：在需要删除整个 `if` 块时，尝试使用 `dS`。

---

## 4. 常见问题 (FAQ)

*   **Q: 为什么按 `S` 之后会自动选中？**
    *   A: 这是正常现象。`S` 专注于代码块操作，它认为你选中节点后通常是为了进行下一步处理（复制、删除、修改）。
*   **Q: 标签颜色太多分不清怎么办？**
    *   A: 我们配置了 `rainbow` 模式。通常最靠近光标的标签颜色最鲜艳，优先关注它们即可。
